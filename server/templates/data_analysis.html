<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>FeelM</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ url_for('static', filename='bootstrap.min.css') }}" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="../static/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'
          type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
          rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="{{ url_for('static', filename='clean-blog.min.css') }}" rel="stylesheet">

</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand" href="{{ url_for('index') }}">
            <i class="fas fa-theater-masks"></i> FeelM
        </a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation">
            Menu
            <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('index') }}">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('about') }}">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('data_analysis') }}">Data Analysis</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('top_results') }}">Top Results</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Header -->
<header class="masthead" style="background-image: url('{{ url_for('static', filename='film_image_2.jpg') }}')">
    <div class="overlay"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <div class="page-heading">
                    <h1>Data Analysis</h1>
                    <span class="subheading">Explanation of our algorithm and comparison to human scores</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <h2 class="section-heading text-center">Introduction</h2>

                <p>First, let's understand what the algorithm actually intends to do and what how to measure that it
                    works.
                    Sentiment analysis is a tool that is being used for a wide range of purposes. The classic one's are
                    analyzing reviews and comments to draw a conclusion on a certain product or post.
                    We took this algorithm and applied it to a work of arts - a movie, and we did it purely out of a
                    research standpoint,
                    with lots of curiosity towards the outcome. "How accurate is sentiment analysis really?" is what we
                    asked ourselves when we decided to go through with this project.
                </p>

                <p>The input of our algorithm is a movie name and the output is a graph and
                    smiley face representing a
                    sentiment,
                    but clearly there is much more to it than that, since sentiment scores don't always behave as
                    expected and need to be normalized.</p>

                <p style="font-weight:bold; color: red;">FOR MORE INFORMATION AND A DETAILED EXPLANATION OF THE
                    ALGORITHM,
                    PLEASE SCROLL DOWN TO THE BOTTOM OF THIS PAGE.</p>

                <p>The main thing that is common for all of the different purposes of sentiment analysis is the need to
                    classify
                    something as "sad" (negative) and "happy" (positive), on various scales (see our smiley faces in the
                    bottom of the home page).
                    It is not always clear what is the definition of "sad" or "happy", in most cases it is not "black or
                    white", but
                    way more complicated. We can all agree that usually a horror movie is going to be less positive than
                    a comedy,
                    but trust us - there are some dark comedies out there.
                    Therefore, in order to test our results and measure our algorithm against a human eye
                    we have decided to rate some popular movies which most of
                    their viewers should have a common idea regarding their happiness rate.</p>

                <h2 class="section-heading text-center">Examples</h2>

                <h2 class="section-heading">Ted</h2>
                <img class="img-fluid" src="../static/ted.jpg"/>

                <p class="text-center" style="font-weight:bold;">Score: 0.09075629937262922</p>

                <p>Ted is a comedy about a man named John Bennett, a man who's childhood wish of bringing his teddy bear
                    to life came true,
                    now must decide between keeping the relationship with the bear or his girlfriend, Lori.</p>

                <p>Ted is a very funny movie, which will make most of the people watching it laugh a lot.
                    Surprisingly, it didn't get a very high score, and was ranked lower than other movies we checked
                    which are
                    agreeably "sadder". Why does this happen?</p>

                <p>The reason for this is because the algorithm receives movie subtitles as an input, while the
                    movie uses a lot of "bad" language and profanity, and the algorithm can't tell the true intent
                    behind a joke.
                    There might be a lot of sarcastic sentences which may come off as offensive and negative if you only
                    "read" them,
                    but if you see the body language of the actor or the situation the sentence was said in, you'll
                    change your mind for sure.</p>

                <p>We put this example here on purpose to show that the algorithm is experimental and not perfect, nor
                    we intend it to be.
                    It might work well on more "vanilla" type comedies and children's movies versus horror and tragedy
                    movies (extreme cases),
                    but human communication is far more complex than just written words. Body language, movement,
                    context and even background music
                    all come into play when communicating emotion,
                    but in the general cases our algorithm actually serves it's purpose. See the TOP RESULTS page :)</p>
                <h2 class="section-heading">Friends with Benefits</h2>
                <img class="img-fluid" src="../static/friends_with_benefits.jpg"/>

                <p class="text-center" style="font-weight:bold;">Score: 0.18952686192515367</p>

                <p>Jamie Rellis (Mila Kunis) is a New York City head-hunter trying to sign Los Angeles-based art
                    director Dylan Harper (Justin Timberlake) for her client.
                    When he takes the job and makes the move, they quickly become friends. Their friendship turns into a
                    friendship with benefits, but with Jamie's emotionally damaged past and Dylan's history of being
                    emotionally unavailable, they have to try to not fall for each other the way Hollywood
                    romantic comedies dictate.</p>

                <p>Friends with benefits is a very easy going and fun movie. It talks a lot about relationships and
                    love, and this
                    can explain why it got a very high and accurate score.
                    This shows how comedies can be very light language-wise, as opposed to Ted for example.
                    Many conclusions can be drawn from this fact. Age restrictions on films may be
                    calculated and verified by an algorithm, for example.

                <h2 class="section-heading">The Wolf of Wall Street</h2>
                <img class="img-fluid" src="../static/wolf_of_wall_street.jpg"/>

                <p class="text-center" style="font-weight:bold;">Score: -0.01653886156971727</p>

                <p>The movie is about Jordan Belfort who is a Long Island penny stockbroker who served 22 months in
                    prison
                    for defrauding investors
                    in a massive 1990s securities scam that involved widespread corruption on Wall Street and in the
                    corporate banking world.</p>

                <p>The Wolf of Wall Street is a very intense movie, that also has a lot of bad language and it is
                    definitely
                    not a very positive movie, and indeed it received a low score.
                    On the other hand it is also not a classic "sad" and emotional movie. From this we learn that the
                    algorithm
                    doesn't consider only "emotional" kind of sadness as "sad", but also intense movies with a lot of
                    fights, stress and profanity, and in our opinion it got a pretty accurate score this time.</p>


                <h2 class="section-heading">Get Out</h2>
                <img class="img-fluid" src="../static/get_out.jpg"/>
                <p class="text-center" style="font-weight:bold;">Score: 0.051873143852899394</p>

                <p>Chris and his girlfriend Rose go upstate to visit her parents for the weekend. At first, Chris reads
                    the family's overly accommodating behavior as nervous attempts to deal with their daughter's
                    interracial relationship, but as the weekend progresses, a series of increasingly disturbing
                    discoveries lead him to a truth that he never could have imagined.</p>
                <p>The first word that comes to mouth when thinking about this movie is "scary". This movie can
                    definitely NOT be considered as a positive movie, despite the OK ending.
                    We can see that our algorithm was completely right this time. The movie received a low
                    score as it should have</p>

                <h2 class="section-heading">The Avengers</h2>
                <img class="img-fluid" src="../static/the_avengers.jpeg"/>

                <p class="text-center" style="font-weight:bold;">Score: 0.05744215499551452</p>

                <p>Earth's mightiest heroes must come together and learn to fight as a team if they are going to stop
                    the mischievous Loki and his alien army from enslaving humanity.</p>

                <p>The avengers is an action movie, which many would consider as "happy", mainly because of all the
                    special effects and the entertaining visuals it has.
                    As many other action movies, it has less "talking" and a lot of fights between good and evil.
                    The talking is usually goal oriented, and uses terms like "fight", "destroy" and "kill" which may
                    be interpreted as negative.
                    Based on this we can see why it got a low score, but we have to remember that if we take away the
                    amusing part
                    of action movies and analyze just the language compared to drama movies for example, even without a
                    computer's
                    help we can see
                    that the dramatic nature of the language stays.
                    This tells us a lot about how we interpret emotion and what is positive and negative to us, but also
                    shows us
                    that sentiment analysis is no joke.</p>

                <h2 class="section-heading">Pirates of the Caribbean</h2>
                <img class="img-fluid" src="../static/pirates_of_the_caribbean.jpg"/>
                <p class="text-center" style="font-weight:bold;">Score: 0.08323822717194623</p>

                <p>Pirates of the Caribbean is a sweeping action-adventure story set in an era when villainous pirates
                    scavenged the Caribbean seas. This roller coaster tale teams a young man, Will Turner, with an
                    unlikely ally in rogue pirate Jack Sparrow. Together, they must battle a band of the world's most
                    treacherous pirates, led by the cursed Captain
                    Barbossa, in order to save Elizabeth, the love of Will's life, as well as recover the lost treasure
                    that Jack seeks. Against improbable odds,
                    they race towards a climactic confrontation on the mysterious Isla de Muerta. Clashing their swords
                    in fierce mortal combat, Will and Jack attempt to recapture The Black Pearl ship, save the British
                    navy, and relinquish a fortune in forbidden treasure thereby lifting the curse of the Pirates of the
                    Caribbean.</p>

                <p> On One hand, this movie has a happy side, it is a bit funny and it has amusing characters. On
                    the other hand, it has a lot of fights and dramatic moments.
                    The mix of the two can explain why it got a pretty neutral score - which is also pretty
                    accurate.</p>

                <h2 class="section-heading text-center">How It All Works</h2>

                <p> In this section, we will try to explain how our algorithm works. It is pretty complex as a whole,
                    but when simplified
                    and divided into sub-components you should get it right away.
                    <br>
                    The sub components we are referring to are:</p>
                <ul>
                    <li>The TMDB API component</li>
                    <li>The Open Subtitles API component</li>
                    <li>The Sentiment Analysis component</li>
                    <li>The Welford's Algorithm component</li>
                </ul>
                <p> These all get called in the specified order (from top to bottom), and stop only if there is an
                    exception along the way.</p>

                <h2 class="section-heading">The TMDB API component</h2>
                <p> This component is pretty straightforward. It receives a movie name that the user types in the UI,
                    and calls the search on the TMDB API with that name, and returns a dictionary of movie related data
                    such as the image, plot, genre, release date and the IMDB ID that will be used later by the
                    following components.</p>


                <h2 class="section-heading">The Open Subtitles API component</h2>
                <p> After the movie results are presented to the user and he chooses the movie he wants to analyze,
                    the server calls the Open Subtitles API with the IMDB ID of the chosen movie, and picks the subtitle
                    file that was most highly ranked
                    and makes sure it's format is correct and that it is in the english language. If the component can't
                    find a subtitle of the chosen movie or
                    if the download fails for some reason, an exception is thrown to the UI.</p>

                <h2 class="section-heading">The Sentiment Analysis component</h2>
                <p> This component is the heart of all our work. It uses TextBlob, which is a well known and easy to use
                    python library for processing textual data,
                    and has sentiment analysis support in particular, which is exactly what we
                    needed.<br>
                    This component has 4 steps:</p>
                <ul>
                    <li>Collect the subtitles and their time intervals from the srt file</li>
                    <li>Divide the total movie running time into constant time intervals</li>
                    <li>Collect and combine all of the text in each time interval</li>
                    <li>Find the sentiment polarity of the text in each time interval</li>
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <ul class="list-inline text-center">
                    <li class="list-inline-item">
                        <a href="https://github.com/GuyShuster/FeelM" target="_blank">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                </ul>
                <p class="copyright text-muted">Copyright &copy; FeelM 2020</p>
            </div>
        </div>
    </div>
</footer>

<!-- Bootstrap core JavaScript -->
<script src="{{ url_for('static', filename='jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='bootstrap.bundle.min.js') }}"></script>

<!-- Custom scripts for this template -->
<script src="{{ url_for('static', filename='clean-blog.min.js') }}"></script>

</body>

</html>

